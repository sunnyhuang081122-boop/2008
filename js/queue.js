import{supabase}from'../supabase.js';const list=document.getElementById('queueList');const btn=document.getElementById('join');async function loadQueue(){const{data}=await supabase.from('queue').select('*').eq('status','approved').order('created_at');list.innerHTML='';data&&data.forEach((item,index)=>{const li=document.createElement('li');li.textContent=`第 ${index+1} 位：${item.nickname}`;list.appendChild(li)})}btn.addEventListener('click',async()=>{const nickname=document.getElementById('nickname').value;if(!nickname)return alert('請輸入暱稱');await supabase.from('queue').insert([{nickname,status:'pending'}]);alert('已送出，等待審核');document.getElementById('nickname').value=''});loadQueue();
